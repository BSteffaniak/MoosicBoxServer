import{d as Re,c as ie,g as T,a as N,i as k,b as le,e as je,f as l,r as qe,u as a,s as o,t as E,F as ze,S as Be}from"./web.o2PnP_jd.js";import"./settings.54b818e5.l0sNRNKZ.js";import{c as w,a as oe,b as Ge,d as Je,g as ae,s as ce,e as Ke}from"./api.DZqBGp_p.js";import{c as Qe}from"./ChangePlaybackTargetModal.BU1Vz2Zf.js";/* empty css                        */var Ve=E('<div><section><ul><li>Name: <input type=text><button>save</button></li></ul><!$><!/><button type=button>New connection</button><ul><li>Name: <input type=text><button>save</button></li><li>API Url: <input type=text><button>save</button></li><li>Client ID: <input type=text><button>save</button></li><li>Token: <input type=text><button>save</button></li><li>Static Token: <input type=text><button>save</button></li><li>Magic Token: <input type=text><button>save</button></li></ul><!$><!/><!$><!/></section><hr><section><button type=button class="remove-button-styles moosicbox-button">Scan'),We=E("<select name=connections id=connections-dropdown>"),Xe=E("<option>");function lt(){const[se,Ye]=w(Ge),[i,U]=w(Je),[re,$e]=w(Qe),[A,L]=ie(),[ue,pe]=ie(!1);let m,x,S;function _e(){const e=ae();U({id:e,name:"New connection",apiUrl:"",clientId:"",token:"",staticToken:""}),ce(e,{name:"New connection"})}function c(e){const n=i(),s=n?.id??ae();U({id:s,name:e.name??n?.name??"",apiUrl:e.apiUrl??n?.apiUrl??"",clientId:e.clientId??n?.clientId??"",token:e.token??n?.token??"",staticToken:e.staticToken??n?.staticToken??""}),ce(s,e)}function M(){c({name:S.value})}function F(){const e=i();c({apiUrl:x.value,staticToken:e?.staticToken??""})}let y;function P(){$e(y.value)}function D(){c({clientId:m.value})}let C;function H(){c({token:C.value})}let h;function O(){c({staticToken:h.value})}let g;async function R(){const e=await oe.magicToken(g.value);if(pe(!1),e){const n=i();c({name:n?.name??"New connection",apiUrl:n?.apiUrl??"",clientId:e.clientId,token:e.accessToken}),g.value="",L("Successfully set values")}else L("Failed to authenticate with magic token")}return(()=>{var e=T(Ve),n=e.firstChild,s=n.firstChild,fe=s.firstChild,be=fe.firstChild,r=be.nextSibling,ke=r.nextSibling,ge=s.nextSibling,[j,de]=N(ge.nextSibling),q=j.nextSibling,z=q.nextSibling,B=z.firstChild,ve=B.firstChild,$=ve.nextSibling,me=$.nextSibling,G=B.nextSibling,xe=G.firstChild,u=xe.nextSibling,Se=u.nextSibling,J=G.nextSibling,ye=J.firstChild,p=ye.nextSibling,Ce=p.nextSibling,K=J.nextSibling,he=K.firstChild,_=he.nextSibling,Ie=_.nextSibling,Q=K.nextSibling,Te=Q.firstChild,f=Te.nextSibling,Ne=f.nextSibling,we=Q.nextSibling,Ee=we.firstChild,d=Ee.nextSibling,Ue=d.nextSibling,Ae=z.nextSibling,[V,Le]=N(Ae.nextSibling),Me=V.nextSibling,[Fe,Pe]=N(Me.nextSibling),De=n.nextSibling,He=De.nextSibling,Oe=He.firstChild;r.$$keyup=t=>t.key==="Enter"&&P();var W=y;typeof W=="function"?a(W,r):y=r,ke.$$click=P,k(n,le(Be,{get when(){return se()},children:t=>(()=>{var I=T(We);return I.addEventListener("change",b=>{Ke(parseInt(b.currentTarget.value))}),k(I,le(ze,{get each(){return t()},children:b=>(()=>{var v=T(Xe);return k(v,()=>b.name),l(()=>o(v,"selected",b.id===i()?.id)),l(()=>o(v,"value",b.id)),v})()})),I})()}),j,de),q.$$click=_e,$.$$keyup=t=>t.key==="Enter"&&M();var X=S;typeof X=="function"?a(X,$):S=$,me.$$click=M,u.$$keyup=t=>t.key==="Enter"&&F();var Y=x;typeof Y=="function"?a(Y,u):x=u,Se.$$click=F,p.$$keyup=t=>t.key==="Enter"&&D();var Z=m;typeof Z=="function"?a(Z,p):m=p,Ce.$$click=D,_.$$keyup=t=>t.key==="Enter"&&H();var ee=C;typeof ee=="function"?a(ee,_):C=_,Ie.$$click=H,f.$$keyup=t=>t.key==="Enter"&&O();var te=h;typeof te=="function"?a(te,f):h=f,Ne.$$click=O,d.$$keyup=t=>t.key==="Enter"&&R();var ne=g;return typeof ne=="function"?a(ne,d):g=d,Ue.$$click=R,k(n,(()=>{var t=je(()=>!!A());return()=>t()&&A()})(),V,Le),k(n,()=>ue()&&"loading...",Fe,Pe),Oe.$$click=async()=>oe.startScan(["LOCAL"]),l(()=>o(r,"value",re())),l(()=>o($,"value",i()?.name??"New connection")),l(()=>o(u,"value",i()?.apiUrl??"")),l(()=>o(p,"value",i()?.clientId??"")),l(()=>o(_,"value",i()?.token??"")),l(()=>o(f,"value",i()?.staticToken??"")),qe(),e})()}Re(["keyup","click"]);export{lt as default};
//# sourceMappingURL=settings.Cqm-leGS.js.map
